
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Variables &#8212; Dymos</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Constraints" href="constraints.html" />
    <link rel="prev" title="Segments" href="segments.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/dymos_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Dymos</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../index.html">
   Multidisciplinary Optimal Control Library
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Installation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../installation.html">
   Installing Dymos
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../getting_started/optimal_control.html">
   Optimal Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../getting_started/defining_odes.html">
   Defining ODEs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../getting_started/collocation.html">
   What is collocation?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../getting_started/intro_to_dymos/intro_ivp.html">
   Modeling Dynamic Systems with Dymos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../getting_started/intro_to_dymos/intro_segments.html">
   Segments of Phases
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Examples and Tutorials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../examples/examples.html">
   Dymos by Example
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/brachistochrone/brachistochrone.html">
     The Brachistochrone
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/vanderpol/vanderpol.html">
     The Van der Pol Oscillator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/balanced_field/balanced_field.html">
     Aircraft Balanced Field Length Calculation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/commercial_aircraft/commercial_aircraft.html">
     Commercial Aircraft Range Maximization by Differential Inclusion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/double_integrator/double_integrator.html">
     Double Integrator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/hypersensitive/hypersensitive.html">
     Hyper-Sensitive Problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/finite_burn_orbit_raise/finite_burn_orbit_raise.html">
     Two-Burn Orbit Raise
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/length_constrained_brachistochrone/length_constrained_brachistochrone.html">
     The Length-Constrained Brachistochrone
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/min_time_climb/min_time_climb.html">
     Supersonic Interceptor Minimum Time Climb
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/mountain_car/mountain_car.html">
     The Mountain Car Problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/multi_phase_cannonball/multi_phase_cannonball.html">
     Multi-Phase Cannonball
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/multibranch_trajectory/multibranch_trajectory.html">
     Multibranch Trajectory
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/racecar/racecar.html">
     Race car Lap Simulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/reentry/reentry.html">
     Single-Phase Space Shuttle Reentry
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/ssto_earth/ssto_earth.html">
     SSTO Earth Launch
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/ssto_moon_linear_tangent/ssto_moon_linear_tangent.html">
     SSTO Lunar Ascent with Linear Tangent Guidance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/ssto_moon_polynomial_controls/ssto_moon_polynomial_controls.html">
     SSTO Lunar Ascent with Polynomial Controls
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/robertson_problem/robertson_problem.html">
     The Robertson Problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../examples/water_rocket/water_rocket.html">
     Water Rocket
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Feature Reference
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="phases_list.html">
   Phases
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="phases.html">
     Phases of a Trajectory
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="segments.html">
     Segments
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="constraints.html">
     Constraints
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="objective.html">
     Objective
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="timeseries.html">
     Timeseries Outputs
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../trajectories/trajectories.html">
   Organizing Phases into Trajectories
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exploiting_sparsity.html">
   Exploiting Sparsity for Faster Derivative Calculation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../plotting.html">
   Plotting Timeseries
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Frequently Asked Questions
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../faq/faq.html">
   Frequently Asked Questions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq/add_ode_output_to_timeseries.html">
     How do I add an ODE output to the timeseries outputs?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq/connect_scalar_parameters_to_ode.html">
     How do I connect a scalar input to the ODE?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq/upstream_analysis.html">
     How do connect the outputs of an upstream analysis as inputs to Dymos?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq/downstream_analysis.html">
     How do connect the outputs of Dymos to a downstream analysis?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq/tandem_phases.html">
     How do I run two phases parallel-in-time?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq/use_partial_coloring.html">
     How can I more efficiently use finite-differenced components in the ODE?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../faq/debugging.html">
     How can I debug models when things go wrong?
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Dymos API Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../api/api.html">
   Dymos Reference API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../api/run_problem.html">
     The Dymos run_problem function
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../api/phase_api.html">
     The Phase API
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../api/trajectory_api.html">
     The Trajectory API
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contributing
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../contributing/contributing.html">
   Contributing to Dymos
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/features/phases/variables.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/OpenMDAO/dymos"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/OpenMDAO/dymos/issues/new?title=Issue%20on%20page%20%2Ffeatures/phases/variables.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/OpenMDAO/dymos/master?urlpath=tree/docs/features/phases/variables.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/OpenMDAO/dymos/blob/master/docs/features/phases/variables.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#time">
   Time
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options-for-time-variables">
     Options for Time Variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#states">
   States
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options-for-state-variables">
     Options for State Variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#controls">
   Controls
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options-for-control-variables">
     Options for Control Variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#polynomial-controls">
   Polynomial Controls
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options-for-polynomial-control-variables">
     Options for Polynomial Control Variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parameters">
   Parameters
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options-for-parameters">
     Options for Parameters
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="cell tag_active-ipynb tag_remove-input tag_remove-output docutils container">
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="variables">
<h1>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h1>
<p>An Optimal Control problem in Dymos consists of the following variable types.</p>
<div class="section" id="time">
<h2>Time<a class="headerlink" href="#time" title="Permalink to this headline">¶</a></h2>
<p>Optimal control problems in Dymos assume a system that is evolving in time.  State variables
typically obey some ordinary differential equation that provides the derivative of the states
w.r.t. time.</p>
<p>Users can specify various options relating to time with the <code class="docutils literal notranslate"><span class="pre">set_time_options</span></code> method of Phase.</p>
<p>In Dymos, the phase time is controlled by two inputs:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t_initial</span></code> - The initial time of the phase</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t_duration</span></code> - The duration of the phase</p></li>
</ul>
<p>The bounds, scaling, and units of these variables may be set using <code class="docutils literal notranslate"><span class="pre">set_time_options</span></code>.  In addition,
the user can specify that the initial time or duration of a phase is to be connected to some
external output by specifying <code class="docutils literal notranslate"><span class="pre">input_initial</span> <span class="pre">=</span> <span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">input_duration</span> <span class="pre">=</span> <span class="pre">True</span></code>.  In the case of
fixed initial time or duration, or input initial time or duration, the optimization-related options
have no effect and a warning will be raised if they are used.</p>
<p>The variables <code class="docutils literal notranslate"><span class="pre">t_initial</span></code> and <code class="docutils literal notranslate"><span class="pre">t_duration</span></code> are converted to time values at the nodes within the phase.
Dymos computes the following time values, which can be used inside the ODE:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code> - The canonical time. At the start of the phase <code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">=</span> <span class="pre">t_initial</span></code>, and <code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">=</span> <span class="pre">t_initial</span> <span class="pre">+</span> <span class="pre">t_duration</span></code> at the end of the phase.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time_phase</span></code> - The elapsed time since the beginning of the phase.  <code class="docutils literal notranslate"><span class="pre">time_phase</span> <span class="pre">=</span> <span class="pre">time</span> <span class="pre">-</span> <span class="pre">t_initial</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t_initial</span></code> - The initial time of the current phase (this value is the same at all nodes within the phase).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t_duration</span></code> - The phase time duration of the current phase (this value is the same at all nodes within the phase).</p></li>
</ul>
<div class="section" id="options-for-time-variables">
<h3>Options for Time Variables<a class="headerlink" href="#options-for-time-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">om</span><span class="o">.</span><span class="n">show_options_table</span><span class="p">(</span><span class="s2">&quot;dymos.phase.options.TimeOptionsDictionary&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
<thead>
<tr><th>Option            </th><th>Default     </th><th>Acceptable Values  </th><th>Acceptable Types  </th><th>Description                                                                                             </th></tr>
</thead>
<tbody>
<tr><td>duration_adder    </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Adder for the duration of the integration variable across the phase.                                    </td></tr>
<tr><td>duration_bounds   </td><td>(None, None)</td><td>N/A                </td><td>[&#x27;Iterable&#x27;]      </td><td>Tuple of (lower, upper) bounds for the duration of the integration variable across the phase.           </td></tr>
<tr><td>duration_ref      </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Unit-reference value for the duration of the integration variable across the phase.                     </td></tr>
<tr><td>duration_ref0     </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Zero-reference value for the duration of the integration variable across the phase.                     </td></tr>
<tr><td>duration_scaler   </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Scalar for the duration of the integration variable across the phase.                                   </td></tr>
<tr><td>duration_val      </td><td>1.0         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Value of the duration of the integration variable across the phase.                                     </td></tr>
<tr><td>fix_duration      </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]          </td><td>If True, the  phase duration is not a design variable.                                                  </td></tr>
<tr><td>fix_initial       </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]          </td><td>If True, the initial value of time is not a design variable.                                            </td></tr>
<tr><td>initial_adder     </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Adder for the initial value of the integration variable.                                                </td></tr>
<tr><td>initial_bounds    </td><td>(None, None)</td><td>N/A                </td><td>[&#x27;Iterable&#x27;]      </td><td>Tuple of (lower, upper) bounds for the integration variable at the start of the phase.                  </td></tr>
<tr><td>initial_ref       </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Unit-reference value for the initial value of the integration variable.                                 </td></tr>
<tr><td>initial_ref0      </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Zero-reference value for the initial value of the integration variable.                                 </td></tr>
<tr><td>initial_scaler    </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Scalar for the initial value of the integration variable.                                               </td></tr>
<tr><td>initial_val       </td><td>0.0         </td><td>N/A                </td><td>[&#x27;Number&#x27;]        </td><td>Value of the integration variable at the start of the phase.                                            </td></tr>
<tr><td>input_duration    </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]          </td><td>If True, the phase duration (t_duration) is expected to be connected to an external output source.      </td></tr>
<tr><td>input_initial     </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]          </td><td>If True, the initial value of time (t_initial) is expected to be connected to an external output source.</td></tr>
<tr><td>t_duration_targets</td><td>[]          </td><td>N/A                </td><td>[&#x27;Iterable&#x27;]      </td><td>targets in the ODE to which the total duration of the phase is connected                                </td></tr>
<tr><td>t_initial_targets </td><td>[]          </td><td>N/A                </td><td>[&#x27;Iterable&#x27;]      </td><td>targets in the ODE to which the initial time of the phase is connected                                  </td></tr>
<tr><td>targets           </td><td>[]          </td><td>N/A                </td><td>[&#x27;Iterable&#x27;]      </td><td>targets in the ODE to which the integration variable is connected                                       </td></tr>
<tr><td>time_phase_targets</td><td>[]          </td><td>N/A                </td><td>[&#x27;Iterable&#x27;]      </td><td>targets in the ODE to which the elapsed duration of the phase is connected                              </td></tr>
<tr><td>units             </td><td>s           </td><td>N/A                </td><td>[&#x27;str&#x27;]           </td><td>Units for the integration variable                                                                      </td></tr>
</tbody>
</table></div></div>
</div>
</div>
</div>
<div class="section" id="states">
<h2>States<a class="headerlink" href="#states" title="Permalink to this headline">¶</a></h2>
<p>States are variables that define the current condition of the system.  For instance, in trajectory
optimization they are typically coordinates that define the position and velocity of the vehicle.
They can also be things like component bulk temperatures or battery state-of-charge.  In most
dynamic systems, states obey some ordinary differential equation.  As such, these are defined
in an <code class="docutils literal notranslate"><span class="pre">ODE</span></code> object.</p>
<p>At the phase level, we assume that states evolve continuously such that they can be modeled as a
series of one or more polynomials.  The phase duration is broken into one or more <em>segments</em> on
which each state (and each dynamic control) is modeled as a polynomial.  The order of the
polynomial is specified using the <em>transcription_order</em> method.  <strong>In Dymos, the minimum state
transcription order is 3.</strong></p>
<p>Users can specify bounds and scaling of the state variables with the phase method <code class="docutils literal notranslate"><span class="pre">add_state</span></code>.
The units and shape arguments are not required, as dymos will pull that information from the rate_source when
possible. You may still add units if you would like the driver or the timeseries to see a different unit than
what is defined in the rate source. There are two exceptions:</p>
<ul class="simple">
<li><p>If the rate_source references a control that has no targets, shape is required.</p></li>
<li><p>If the rate_source is another state, that state needs to be declared first. If the relationship is circular, shape is required.</p></li>
</ul>
<p>Settings on a previously-added state variable may be changed using the <code class="docutils literal notranslate"><span class="pre">set_state_options</span></code> method.
The following options are valid:</p>
<div class="section" id="options-for-state-variables">
<h3>Options for State Variables<a class="headerlink" href="#options-for-state-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">om</span><span class="o">.</span><span class="n">show_options_table</span><span class="p">(</span><span class="s2">&quot;dymos.phase.options.StateOptionsDictionary&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
<thead>
<tr><th>Option           </th><th>Default     </th><th>Acceptable Values             </th><th>Acceptable Types      </th><th>Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               </th></tr>
</thead>
<tbody>
<tr><td>adder            </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Adder of the state variable at the discretization nodes. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             </td></tr>
<tr><td>connected_initial</td><td>False       </td><td>[True, False]                 </td><td>[&#x27;bool&#x27;]              </td><td>Whether an input is created to pass in the initial state. This may be set by a trajectory that links phases.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </td></tr>
<tr><td>continuity       </td><td>True        </td><td>N/A                           </td><td>[&#x27;bool&#x27;, &#x27;dict&#x27;]      </td><td>Enforce continuity of state values at segment boundaries. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </td></tr>
<tr><td>defect_ref       </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Unit-reference value of the state defects at the collocation nodes. This option is invalid if opt=False.  If provided, this option overrides defect_scaler. If defect_scaler and defect_ref are both None but the state scaler or ref are provided, use those values as the defect scaler or ref.                                                                                                                                                                                                                                                                                         </td></tr>
<tr><td>defect_scaler    </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Scaler of the state variable defects at the collocation nodes. If defect_scaler and defect_ref are both None but the state scaler or ref are provided, use those values as the defect scaler or ref. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                 </td></tr>
<tr><td>desc             </td><td>            </td><td>N/A                           </td><td>[&#x27;str&#x27;]               </td><td>description of the state variable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         </td></tr>
<tr><td>final_bounds     </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;]          </td><td>Bounds on the value of the state at the end of the phase. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </td></tr>
<tr><td>fix_final        </td><td>False       </td><td>N/A                           </td><td>[&#x27;bool&#x27;, &#x27;Iterable&#x27;]  </td><td>If True, the final value of this state is fixed and not a design variable. If the state variable has a non-scalar shape, this may be an iterable of bool for each index. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                             </td></tr>
<tr><td>fix_initial      </td><td>False       </td><td>N/A                           </td><td>[&#x27;bool&#x27;, &#x27;Iterable&#x27;]  </td><td>If True, the initial value of this state is fixed and not a design variable. If the state variable has a non-scalar shape, this may be an iterable of bool for each index. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                           </td></tr>
<tr><td>initial_bounds   </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;]          </td><td>Bounds on the value of the state at the start of the phase. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </td></tr>
<tr><td>lower            </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Lower bound of the state variable at the discretization nodes. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </td></tr>
<tr><td>name             </td><td>**Required**</td><td>N/A                           </td><td>[&#x27;str&#x27;]               </td><td>name of ODE state variable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </td></tr>
<tr><td>opt              </td><td>True        </td><td>[True, False]                 </td><td>[&#x27;bool&#x27;]              </td><td>If true, the values of this state are a design variable for the optimizer.  Otherwise it exists as an unconnected input.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </td></tr>
<tr><td>rate_source      </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;str&#x27;]               </td><td>ODE-path to the derivative of the state variable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </td></tr>
<tr><td>ref              </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Unit-reference value of the state variable at the discretization nodes. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </td></tr>
<tr><td>ref0             </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Zero-reference value of the state variable at the discretization nodes. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </td></tr>
<tr><td>scaler           </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Scaler of the state variable at the discretization nodes. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </td></tr>
<tr><td>shape            </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;]          </td><td>shape of the state variable, as determined by introspection                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               </td></tr>
<tr><td>solve_segments   </td><td>N/A         </td><td>[False, &#x27;forward&#x27;, &#x27;backward&#x27;]</td><td>N/A                   </td><td>If &#x27;forward&#x27;, collocation defects within eachsegment are solved with a Newton solver by fixing the initial value in thephase (if using compressed transcription) or segment (if not using compressed transcription). This provides a forward shooting (or multiple shooting)method.  If &#x27;backward&#x27;, the final value in the phase or segment is fixedand a solver finds the other ones to mimic reverse propagation. If None, (the default) use the value of solve_segments in the transcription. Set to False to explicitly disable the use of a solver to converge the statetime history.</td></tr>
<tr><td>targets          </td><td>unspecified </td><td>N/A                           </td><td>N/A                   </td><td>Targets in the ODE to which the state is connected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </td></tr>
<tr><td>units            </td><td>unspecified </td><td>N/A                           </td><td>N/A                   </td><td>units in which the state variable is defined                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </td></tr>
<tr><td>upper            </td><td>N/A         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Upper bound of the state variable at the discretization nodes. This option is invalid if opt=False.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </td></tr>
<tr><td>val              </td><td>1.0         </td><td>N/A                           </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]</td><td>Default value of the state variable at the discretization nodes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           </td></tr>
</tbody>
</table></div></div>
</div>
<p>The Radau Pseudospectral and Gauss Lobatto phases types in Dymos use differential defects to
approximate the evolution of the state variables with respect to time.  In addition to scaling
the state values, scaling the defect constraints correctly is important to good performance of
the collocation algorithms.  This is accomplished with the <code class="docutils literal notranslate"><span class="pre">defect_scaler</span></code> or <code class="docutils literal notranslate"><span class="pre">defect_ref</span></code> options.
As the name implies, <code class="docutils literal notranslate"><span class="pre">defect_scaler</span></code> is multiplied by the defect value to provide the defect
constraint value to the optimizer.  Alternatively, the user can specify <code class="docutils literal notranslate"><span class="pre">defect_ref</span></code>.  If provided,
<code class="docutils literal notranslate"><span class="pre">defect_ref</span></code> overrides <code class="docutils literal notranslate"><span class="pre">defect_scaler</span></code> and is the value of the defect seen as <code class="docutils literal notranslate"><span class="pre">1</span></code> by the optimizer.</p>
<p>If the ODE is explicitly depending on a state’s value (for example, the brachistochrone ODE is a function of the bead’s speed), then the user specifies those inputs in the ODE to which the state is to be connected using the <code class="docutils literal notranslate"><span class="pre">targets</span></code> option.
It can take the following values:</p>
<ul class="simple">
<li><p>(default)
If left unspecified, targets assumes a special <code class="docutils literal notranslate"><span class="pre">dymos.utils.misc._unspecified</span></code> value.
In this case, dymos will attempt to connect to an input of the same name at the top of the ODE (either promoted there, or there because the ODE is a single component).</p></li>
<li><p>None
The state is explicitly not connected to any inputs in the ODE.</p></li>
<li><p>str or sequence of str
The state values are connected to inputs of the given name or names in the ODE.
These targets are specified by their path relative to the top level of the ODE.</p></li>
</ul>
<p>To simplify state specifications, using the first option (not specifying targets) and promoting targets of the state to inputs of the same name at the top-level of the ODE.</p>
</div>
</div>
<div class="section" id="controls">
<h2>Controls<a class="headerlink" href="#controls" title="Permalink to this headline">¶</a></h2>
<p>Typically, an ODE will have inputs that impact its values but, unlike states, don’t define the
system itself.  Such inputs include things like throttle level, elevator deflection angle,
or spring constants.  In Dymos, dynamic inputs are referred to as controls, while
static inputs are called parameters.</p>
<p>Dynamic controls are values which we might expect to vary continuously throughout a trajectory, like an elevator deflection angle for instance.
The value of these controls are often determined by an optimizer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The order of a dynamic control polynomial in a segment is one less than the state
transcription order (i.e. a dynamic control in a phase with `transcription_order=3` will
be represented by a second-order polynomial.
</pre></div>
</div>
</div>
<div class="section" id="options-for-control-variables">
<h3>Options for Control Variables<a class="headerlink" href="#options-for-control-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">om</span><span class="o">.</span><span class="n">show_options_table</span><span class="p">(</span><span class="s2">&quot;dymos.phase.options.ControlOptionsDictionary&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
<thead>
<tr><th>Option                 </th><th>Default     </th><th>Acceptable Values  </th><th>Acceptable Types                 </th><th>Description                                                                                                                                </th></tr>
</thead>
<tbody>
<tr><td>adder                  </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The adder of the control variable at the nodes. This option is invalid if opt=False.                                                       </td></tr>
<tr><td>continuity             </td><td>True        </td><td>N/A                </td><td>[&#x27;bool&#x27;, &#x27;dict&#x27;]                 </td><td>Enforce continuity of control values at segment boundaries. This option is invalid if opt=False.                                           </td></tr>
<tr><td>desc                   </td><td>            </td><td>N/A                </td><td>[&#x27;str&#x27;]                          </td><td>The description of the control variable.                                                                                                   </td></tr>
<tr><td>fix_final              </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]                         </td><td>If True, the final value of this control is fixed and not a design variable. This option is invalid if opt=False.                          </td></tr>
<tr><td>fix_initial            </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]                         </td><td>If True, the initial value of this control is fixed and not a design variable. This option is invalid if opt=False.                        </td></tr>
<tr><td>lower                  </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The lower bound of the control variable at the nodes. This option is invalid if opt=False.                                                 </td></tr>
<tr><td>name                   </td><td>**Required**</td><td>N/A                </td><td>[&#x27;str&#x27;]                          </td><td>The name of ODE system parameter to be controlled.                                                                                         </td></tr>
<tr><td>opt                    </td><td>True        </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]                         </td><td>If True, the control value will be a design variable for the optimization problem.  If False, allow the control to be connected externally.</td></tr>
<tr><td>rate2_continuity       </td><td>False       </td><td>N/A                </td><td>[&#x27;bool&#x27;, &#x27;dict&#x27;]                 </td><td>Enforce continuity of control second derivatives at segment boundaries. This option is invalid if opt=False.                               </td></tr>
<tr><td>rate2_continuity_scaler</td><td>1.0         </td><td>N/A                </td><td>[&#x27;Number&#x27;]                       </td><td>Scaler of the dimensionless rate continuity constraint at segment boundaries. This option is invalid if opt=False.                         </td></tr>
<tr><td>rate2_targets          </td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>The targets in the ODE to which the control 2nd derivative is connected                                                                    </td></tr>
<tr><td>rate_continuity        </td><td>True        </td><td>N/A                </td><td>[&#x27;bool&#x27;, &#x27;dict&#x27;]                 </td><td>Enforce continuity of control first derivatives in dimensionless time at segment boundaries. This option is invalid if opt=False.          </td></tr>
<tr><td>rate_continuity_scaler </td><td>1.0         </td><td>N/A                </td><td>[&#x27;Number&#x27;]                       </td><td>Scaler of the dimensionless rate continuity constraint at segment boundaries. This option is invalid if opt=False.                         </td></tr>
<tr><td>rate_targets           </td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>The targets in the ODE to which the control rate is connected                                                                              </td></tr>
<tr><td>ref                    </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The unit-reference value of the control variable at the nodes. This option is invalid if opt=False.                                        </td></tr>
<tr><td>ref0                   </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The zero-reference value of the control variable at the nodes. This option is invalid if opt=False.                                        </td></tr>
<tr><td>scaler                 </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The scaler of the control variable at the nodes. This option is invalid if opt=False.                                                      </td></tr>
<tr><td>shape                  </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;]                     </td><td>The shape of the control variable at each point in time.                                                                                   </td></tr>
<tr><td>targets                </td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>Targets in the ODE to which the state is connected                                                                                         </td></tr>
<tr><td>units                  </td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>The units in which the control variable is defined.                                                                                        </td></tr>
<tr><td>upper                  </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The upper bound of the control variable at the nodes. This option is invalid if opt=False.                                                 </td></tr>
<tr><td>val                    </td><td>[0.]        </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;ndarray&#x27;, &#x27;Number&#x27;]</td><td>The default value of the control variable at the control discretization nodes.                                                             </td></tr>
</tbody>
</table></div></div>
</div>
<p>Control values are connected to the ODE using the <code class="docutils literal notranslate"><span class="pre">targets</span></code> argument.
The values of this argument obey the same rules as those for states.</p>
<p>The control first and second derivatives w.r.t. time may also be connected to the ODE.
First derivatives of controls in Dymos assume the name <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate</span></code>.
Second derivatives of controls in Dymos assume the name <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate2</span></code>.
Control rates are automatically connected if a top-level input of the ODE is named <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate2</span></code>.
These variables are available in the timeseries output as <code class="docutils literal notranslate"><span class="pre">timeseries.control_rates.&lt;control_name&gt;_rate</span></code> and <code class="docutils literal notranslate"><span class="pre">timeseries.control_rates.&lt;control_name&gt;_rate2</span></code>, respectively.</p>
</div>
</div>
<div class="section" id="polynomial-controls">
<h2>Polynomial Controls<a class="headerlink" href="#polynomial-controls" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it can be easier to optimize a problem by reducing the freedom in the controls.
For instance, one might want the control to be linearly or quadratically varying throughout a phase, rather than having a different value specified at each node.
In Dymos, this role is filled by the PolynomialControl.
Polynomial controls are specified at some limited number of points throughout a <em>phase</em>, and then have their values interpolated to each node in each segment.</p>
<div class="section" id="options-for-polynomial-control-variables">
<h3>Options for Polynomial Control Variables<a class="headerlink" href="#options-for-polynomial-control-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">om</span><span class="o">.</span><span class="n">show_options_table</span><span class="p">(</span><span class="s2">&quot;dymos.phase.options.PolynomialControlOptionsDictionary&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
<thead>
<tr><th>Option       </th><th>Default     </th><th>Acceptable Values  </th><th>Acceptable Types                 </th><th>Description                                                                                                                                                                  </th></tr>
</thead>
<tbody>
<tr><td>adder        </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The adder of the control variable at the nodes. Thisoption is invalid if opt=False.                                                                                          </td></tr>
<tr><td>desc         </td><td>            </td><td>N/A                </td><td>[&#x27;str&#x27;]                          </td><td>The description of the control variable.                                                                                                                                     </td></tr>
<tr><td>fix_final    </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]                         </td><td>If True, the final value of this control is fixed and not a design variable. This option is invalid if opt=False.                                                            </td></tr>
<tr><td>fix_initial  </td><td>False       </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]                         </td><td>If True, the initial value of this control is fixed and not a design variable. This option is invalid if opt=False.                                                          </td></tr>
<tr><td>lower        </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The lower bound of the control variable at the nodes. This option is invalid if opt=False.                                                                                   </td></tr>
<tr><td>name         </td><td>**Required**</td><td>N/A                </td><td>[&#x27;str&#x27;]                          </td><td>The name of ODE system parameter to be controlled.                                                                                                                           </td></tr>
<tr><td>opt          </td><td>True        </td><td>[True, False]      </td><td>[&#x27;bool&#x27;]                         </td><td>If True, the control value will be a design variable for the optimization problem.  If False, allow the control to be connected externally.                                  </td></tr>
<tr><td>order        </td><td>N/A         </td><td>N/A                </td><td>[&#x27;int&#x27;]                          </td><td>A integer that provides the interpolation order when the control is to assume a single polynomial basis across the entire phase, or None to use the default control behavior.</td></tr>
<tr><td>rate2_targets</td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>The targets in the ODE to which the polynomial control 2nd derivative is connected                                                                                           </td></tr>
<tr><td>rate_targets </td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>The targets in the ODE to which the polynomial control rate is connected                                                                                                     </td></tr>
<tr><td>ref          </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The unit-reference value of the control variable at the nodes. This option is invalid if opt=False.                                                                          </td></tr>
<tr><td>ref0         </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The zero-reference value of the control variable at the nodes. This option is invalid if opt=False.                                                                          </td></tr>
<tr><td>scaler       </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The scaler of the control variable at the nodes. This option is invalid if opt=False.                                                                                        </td></tr>
<tr><td>shape        </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;]                     </td><td>The shape of the control variable at each point in time.                                                                                                                     </td></tr>
<tr><td>targets      </td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>Targets in the ODE to which the state is connected                                                                                                                           </td></tr>
<tr><td>units        </td><td>unspecified </td><td>N/A                </td><td>N/A                              </td><td>The units in which the control variable is defined.                                                                                                                          </td></tr>
<tr><td>upper        </td><td>N/A         </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The upper bound of the control variable at the nodes. This option is invalid if opt=False.                                                                                   </td></tr>
<tr><td>val          </td><td>[0.]        </td><td>N/A                </td><td>[&#x27;Iterable&#x27;, &#x27;ndarray&#x27;, &#x27;Number&#x27;]</td><td>The default value of the control variable at the control discretization nodes.                                                                                               </td></tr>
</tbody>
</table></div></div>
</div>
<p>Polynomial values are connected to the ODE using the <code class="docutils literal notranslate"><span class="pre">targets</span></code> argument.
The values of this argument obey the same rules as those for states.</p>
<p>The polynomial control first and second derivatives w.r.t. time may also be connected to the ODE.
First derivatives of controls in Dymos assume the name <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate</span></code>.
Second derivatives of controls in Dymos assume the name <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate2</span></code>.
Control rates are automatically connected if a top-level input of the ODE is named <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;control_name&gt;_rate2</span></code>.
These variables are available in the timeseries output as <code class="docutils literal notranslate"><span class="pre">timeseries.polynomial_control_rates.&lt;control_name&gt;_rate</span></code> and <code class="docutils literal notranslate"><span class="pre">timeseries.polynomial_control_rates.&lt;control_name&gt;_rate2</span></code>, respectively.</p>
</div>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>Some inputs impact the system but have one set value throughout the trajectory.
We refer to these non-time-varying inputs as <em>parameters</em>, since they typically involve parameters which define a system.
Parameters could include things like the wingspan of a vehicle or the mass of a heatsink.
In Dymos, parameters can be optimized (by providing argument <code class="docutils literal notranslate"><span class="pre">opt</span> <span class="pre">=</span> <span class="pre">True</span></code>).
If not optimized they can be targets for connections from outside of the Phase or Trajectory.</p>
<div class="section" id="options-for-parameters">
<h3>Options for Parameters<a class="headerlink" href="#options-for-parameters" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">om</span><span class="o">.</span><span class="n">show_options_table</span><span class="p">(</span><span class="s2">&quot;dymos.phase.options.ParameterOptionsDictionary&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table>
<thead>
<tr><th>Option            </th><th>Default     </th><th>Acceptable Values         </th><th>Acceptable Types                 </th><th>Description                                                                                                                                           </th><th>Deprecation  </th></tr>
</thead>
<tbody>
<tr><td>adder             </td><td>N/A         </td><td>N/A                       </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The adder of the parameter. This option is invalid if opt=False.                                                                                      </td><td>N/A          </td></tr>
<tr><td>desc              </td><td>            </td><td>N/A                       </td><td>[&#x27;str&#x27;]                          </td><td>The description of the parameter.                                                                                                                     </td><td>N/A          </td></tr>
<tr><td>dynamic           </td><td>unspecified </td><td>[True, False, unspecified]</td><td>N/A                              </td><td>True if this parameter can be used as a dynamic control, else False.If _unspecified, attempt to determine through introspection.                      </td><td>Option dynamic has been replaced by option &#x27;static_target&#x27; and will be removed in Dymos 2.0.0.
Note that &#x27;static_target&#x27; has the opposite meaning of option &#x27;dynamic&#x27;, so parameters with option &#x27;dynamic&#x27; set to False should now use &#x27;static_target&#x27; set to True.              </td></tr>
<tr><td>include_timeseries</td><td>True        </td><td>[True, False]             </td><td>[&#x27;bool&#x27;]                         </td><td>True if the static parameters should be included in output timeseries, else False                                                                     </td><td>N/A          </td></tr>
<tr><td>lower             </td><td>N/A         </td><td>N/A                       </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The lower bound of the parameter. This option is invalid if opt=False.                                                                                </td><td>N/A          </td></tr>
<tr><td>name              </td><td>**Required**</td><td>N/A                       </td><td>[&#x27;str&#x27;]                          </td><td>The name of ODE system parameter to be set via parameter.                                                                                             </td><td>N/A          </td></tr>
<tr><td>opt               </td><td>True        </td><td>[True, False]             </td><td>[&#x27;bool&#x27;]                         </td><td>If True, the control value will be a design variable for the optimization problem.  If False, allow the control to be connected externally.           </td><td>N/A          </td></tr>
<tr><td>ref               </td><td>N/A         </td><td>N/A                       </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The unit-reference value of the parameter. This option is invalid if opt=False.                                                                       </td><td>N/A          </td></tr>
<tr><td>ref0              </td><td>N/A         </td><td>N/A                       </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The zero-reference value of the parameter. This option is invalid if opt=False.                                                                       </td><td>N/A          </td></tr>
<tr><td>scaler            </td><td>N/A         </td><td>N/A                       </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The scaler of the parameter. This option is invalid if opt=False.                                                                                     </td><td>N/A          </td></tr>
<tr><td>shape             </td><td>unspecified </td><td>N/A                       </td><td>N/A                              </td><td>The shape of the parameter.                                                                                                                           </td><td>N/A          </td></tr>
<tr><td>static_target     </td><td>unspecified </td><td>[True, False, unspecified]</td><td>N/A                              </td><td>True if the target of this parameter does NOT have a unique value at each node in the ODE.If _unspecified, attempt to determine through introspection.</td><td>N/A          </td></tr>
<tr><td>targets           </td><td>unspecified </td><td>N/A                       </td><td>N/A                              </td><td>Targets in the ODE to which the state is connected                                                                                                    </td><td>N/A          </td></tr>
<tr><td>units             </td><td>unspecified </td><td>N/A                       </td><td>N/A                              </td><td>The units in which the parameter is defined.                                                                                                          </td><td>N/A          </td></tr>
<tr><td>upper             </td><td>N/A         </td><td>N/A                       </td><td>[&#x27;Iterable&#x27;, &#x27;Number&#x27;]           </td><td>The upper bound of the parameter. This option is invalid if opt=False.                                                                                </td><td>N/A          </td></tr>
<tr><td>val               </td><td>[0.]        </td><td>N/A                       </td><td>[&#x27;Iterable&#x27;, &#x27;ndarray&#x27;, &#x27;Number&#x27;]</td><td>The default value of the parameter in the phase.                                                                                                      </td><td>N/A          </td></tr>
</tbody>
</table></div></div>
</div>
<p>Parameters can have their values determined by the optimizer, or they can be passed in from an external source.</p>
<p>Parameters obey the same connection rules as other variables, if targets is left unspecified.</p>
<p>Parameters are available in the timeseries output as <code class="docutils literal notranslate"><span class="pre">timeseries.parameters.&lt;parameter_name&gt;</span></code>.
Since parameters are constant throughout a trajectory, some users may want to prevent them from inclusion in the timeseries.
This can be done by specifying <code class="docutils literal notranslate"><span class="pre">include_timeseries</span> <span class="pre">=</span> <span class="pre">False</span></code> in the parameter options.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./features/phases"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="segments.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Segments</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="constraints.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Constraints</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By The Dymos Development Team<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>